<div 
  data-controller="passkey-registration"
  data-passkey-registration-challenge-url-value="<%= challenge_create_passkeys_path %>"
  data-passkey-registration-create-url-value="<%= passkeys_path %>"
  class="space-y-4"
>
  <%= form_with url: passkeys_path, method: :post, data: { action: "submit->passkey-registration#register" }, class: "space-y-4" do |form| %>
    <div>
      <%= form.label :passkey_name, "Passkey Name", class: "form-label" %>
      <%= form.text_field :passkey_name, 
          required: true,
          placeholder: "e.g., My MacBook Pro, iPhone 15",
          class: "form-input",
          data: { passkey_registration_target: "name" } %>
      <p class="text-xs text-muted mt-1">Give your passkey a memorable name to identify the device.</p>
    </div>

    <div 
      data-passkey-registration-target="error"
      class="hidden text-sm text-red-600 dark:text-red-400 p-3 bg-red-50 dark:bg-red-900/20 rounded"
    ></div>

    <div class="flex gap-2">
      <%= form.submit "Create Passkey", 
          class: "btn btn-primary",
          data: { passkey_registration_target: "submit" } %>
    </div>
  <% end %>
</div>
